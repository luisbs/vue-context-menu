var FileExplorer=function(e){"use strict";function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,o,l=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var n=e.defineComponent({name:"FileExplorer",emits:["initialLoad","load","rename"],props:{layout:{type:String,default:"details",validator:function(e){return["details","cards"].includes(e)}},render:Function},setup:function(t){var r=e.ref(t.layout),n=e.ref(new Map),o=e.ref(Array.from(n.value.keys())[0]||0),l=e.ref();return e.watchEffect((function(){l.value&&l.value.querySelectorAll("button[data-layout]").forEach((function(e){return r.value=e.dataset.layout||"details"}))}),{flush:"post"}),{layoutType:r,folderId:o,explorer:l,path:e.computed((function(){var e,t=[],r=!1,l=null!==(e=o.value)&&void 0!==e?e:0;do{if(n.value.has(l)){var a=n.value.get(l)||{};a.parentId?(t.unshift([l,a.name]),l=a.parentId):(t.unshift([l,a.name,!0]),r=!0)}else r=!0}while(!r);return t})),content:e.computed((function(){return n.value.get(o.value)||{folders:[],files:[]}}))}}}),o={ref:"explorer",class:"vue-file-explorer"},l={class:"vfe-bar"},a={class:"vfe-path"},u={class:"vfe-layout"},c=e.createVNode("button",{type:"button","data-layout":"cards"},"Cards Layout",-1),i=e.createVNode("button",{type:"button","data-layout":"details"},"Details Layout",-1),d={class:"vfe-content"},s={key:0,class:"vfe-cards"},f={key:1,class:"vfe-details"},p=e.createVNode("thead",null,[e.createVNode("tr",null,[e.createVNode("th",null,"Id"),e.createVNode("th",null,"Name"),e.createVNode("th",null,"Actions")])],-1),y=e.createVNode("td",null,null,-1),v=e.createVNode("td",null,null,-1);n.render=function(t,r,n,h,m,k){return e.openBlock(),e.createBlock("div",o,[e.createVNode("div",l,[e.createVNode("div",a,[e.renderSlot(t.$slots,"folder-path",{path:t.path},(function(){return[(e.openBlock(!0),e.createBlock(e.Fragment,null,e.renderList(t.path,(function(t,r){return e.openBlock(),e.createBlock("button",{key:r,type:"button","data-open":t[0]},e.toDisplayString(t[1]),9,["data-open"])})),128))]}))]),e.createVNode("div",u,[e.renderSlot(t.$slots,"layout-selector",{},(function(){return[c,i]}))])]),e.createVNode("div",d,["cards"===t.layoutType?(e.openBlock(),e.createBlock("div",s)):(e.openBlock(),e.createBlock("table",f,[e.createVNode("table",null,[e.renderSlot(t.$slots,"thead",{},(function(){return[p]})),e.renderSlot(t.$slots,"tbody",{},(function(){return[e.createVNode("tbody",null,[(e.openBlock(!0),e.createBlock(e.Fragment,null,e.renderList(t.content.folders,(function(t,r){var n=t.id,o=t.name;return e.openBlock(),e.createBlock("tr",{key:r},[e.createVNode("td",null,e.toDisplayString(n),1),e.createVNode("td",null,e.toDisplayString(o),1),y])})),128)),(e.openBlock(!0),e.createBlock(e.Fragment,null,e.renderList(t.content.files,(function(t,r){var n=t.id,o=t.name;return e.openBlock(),e.createBlock("tr",{key:r},[e.createVNode("td",null,e.toDisplayString(n),1),e.createVNode("td",null,e.toDisplayString(o),1),v])})),128))])]}))])]))])],512)};var h=function(){var e=n;return e.install=function(t){t.component("FileExplorer",e)},e}(),m=Object.freeze({__proto__:null,default:h});return Object.entries(m).forEach((function(e){var r=t(e,2),n=r[0],o=r[1];"default"!==n&&(h[n]=o)})),h}(Vue);