var ContextMenu=function(e){"use strict";function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function n(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var o,r,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw r}}return i}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var u,d=(function(e,t){var n,o,r,i,a,c,l,u;e.exports=(n="__v-click-outside",o="undefined"!=typeof window,r="undefined"!=typeof navigator,i=o&&("ontouchstart"in window||r&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"],a=function(e){var t=e.event,n=e.handler;(0,e.middleware)(t)&&n(t)},c=function(e,t){var o=function(e){var t="function"==typeof e;if(!t&&"object"!=typeof e)throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:t?e:e.handler,middleware:e.middleware||function(e){return e},events:e.events||i,isActive:!(!1===e.isActive),detectIframe:!(!1===e.detectIframe),capture:Boolean(e.capture)}}(t.value),r=o.handler,c=o.middleware,l=o.detectIframe,u=o.capture;if(o.isActive){if(e[n]=o.events.map((function(t){return{event:t,srcTarget:document.documentElement,handler:function(t){return function(e){var t=e.el,n=e.event,o=e.handler,r=e.middleware,i=n.path||n.composedPath&&n.composedPath();(i?i.indexOf(t)<0:!t.contains(n.target))&&a({event:n,handler:o,middleware:r})}({el:e,event:t,handler:r,middleware:c})},capture:u}})),l){var d={event:"blur",srcTarget:window,handler:function(t){return function(e){var t=e.el,n=e.event,o=e.handler,r=e.middleware;setTimeout((function(){var e=document.activeElement;e&&"IFRAME"===e.tagName&&!t.contains(e)&&a({event:n,handler:o,middleware:r})}),0)}({el:e,event:t,handler:r,middleware:c})},capture:u};e[n]=[].concat(e[n],[d])}e[n].forEach((function(t){var o=t.event,r=t.srcTarget,i=t.handler;return setTimeout((function(){e[n]&&r.addEventListener(o,i,u)}),0)}))}},l=function(e){(e[n]||[]).forEach((function(e){return e.srcTarget.removeEventListener(e.event,e.handler,e.capture)})),delete e[n]},{install:function(e){e.directive("click-outside",u)},directive:u=o?{beforeMount:c,updated:function(e,t){var n=t.value,o=t.oldValue;JSON.stringify(n)!==JSON.stringify(o)&&(l(e),c(e,{value:n}))},unmounted:l}:{}})}(u={exports:{}},u.exports),u.exports);var s=e.defineComponent({name:"ContextMenu",inheritAttrs:!1,emits:["optionClick"],props:{options:{type:[String,Array],required:!0},active:{type:Boolean,default:!0},iconFormat:{type:String,default:"class"},delimiter:{type:String,default:"context-menu__content"},offsetX:{type:Number,default:0},offsetY:{type:Number,default:0},events:{type:String,default:"secondary",validator:function(e){return/(click|main|aux|sec|left|right)/.test(e)}}},setup:function(t,r){var i=r.emit,l=e.ref(!1),u=function(){return l.value=!1},d=function(e){"Escape"===e.key&&u()};e.onMounted((function(){return document.body.addEventListener("keyup",d)})),e.onBeforeUnmount((function(){return document.body.removeEventListener("keyup",d)}));var s=e.ref([]),f=e.ref(!1),p=e.ref(!1);e.watchEffect((function(){f.value=p.value=!1,s.value=t.events.split(",").filter((function(e){var t,n=/^(click|dblclick|main|auxiliar|secondary|left|right)?$/.test(t=e)||/^ctrl\.(aux|sec)$/.test(t)||/^(ctrl\.)?(main|auxiliar|secondary|left|right)$/.test(t)||/^(click|dblclick)((\.ctrl)?\.(main|auxiliar|secondary|left|right|aux|sec))?$/.test(t);return n&&(/^dblclick/.test(e)?p.value=!0:f.value=!0),n}))}));var v=e.ref(new Map);e.watchEffect((function(){"string"!=typeof t.options&&(v.value=new Map,t.options.forEach((function(e){var t,r=null!==(t=e.name)&&void 0!==t?t:"no-name-".concat(Math.random().toString().slice(2,5));(Array.isArray(e.on)?e.on:Array(e.on)).forEach((function(t){var i;if(t){var c=void 0;if(/(main|left)/.test(t)?c="main":/(sec|right)/.test(t)?c="secondary":/(aux)/.test(t)&&(c="auxiliar"),c){var l=/^dblclick/.test(t)?"dblclick":"click",u="_";/ctrl\./.test(t)?u="_ctrl_":/alt\./.test(t)?u="_alt_":/shift\./.test(t)?u="_shift_":/meta\./.test(t)&&(u="_meta_");var d="".concat(l).concat(u).concat(c),s=null!==(i=v.value.get(d))&&void 0!==i?i:[];v.value.set(d,[].concat(a(s),[n(n({},"object"===o(e)?e:{}),{},{name:r})]))}}}))})))}));var m=e.ref({x:0,y:0}),y=function(e){m.value={x:e.pageX-t.offsetX,y:e.pageY-t.offsetY}},h=e.ref(),b=function(e){try{var n,o=void 0,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(e.path);try{for(r.s();!(n=r.n()).done;){var i,a=n.value;if(null!=a&&null!==(i=a.classList)&&void 0!==i&&i.contains(t.delimiter))return h.value=o,o;o=a.id}}catch(e){r.e(e)}finally{r.f()}}catch(e){console.warn("vue-context-menu: Not found child element attr 'id' of element with class '".concat(t.delimiter,"'"))}h.value=void 0},g=e.ref([]),k=e.ref();return{visible:e.computed((function(){return t.active&&l.value})),location:e.computed((function(){return{left:"".concat(m.value.x,"px"),top:"".concat(m.value.y,"px")}})),contextMenu:g,slotContextMenu:k,selectedItem:e.computed((function(){var e;return null!==(e=h.value)&&void 0!==e?e:""})),onClick:function(e,n,o){l.value=!1,!1!==t.active&&("string"==typeof t.options?function(e){var n=b(e);"string"!=typeof t.options||!n||n.length<1?k.value=void 0:(e.stopImmediatePropagation(),e.preventDefault(),y(e),k.value=t.options)}(e):function(e,t,n){var o=b(e);if(o&&!(o.length<1)){var r="_";e.ctrlKey?r="_ctrl_":e.altKey?r="_alt_":e.shiftKey?r="_shift_":e.metaKey&&(r="_meta_");var i="".concat(t).concat(r).concat(n),a=v.value.get(i);a?(e.stopImmediatePropagation(),e.preventDefault(),y(e),g.value=a):g.value=[]}}(e,n,o),l.value=!0)},optionClicked:function(e){u(),i("optionClick",{action:e,item:h.value})},onClickOutsideConf:e.computed((function(){return{handler:function(){return u()},isActive:l.value}}))}}}),f=e.withScopeId("data-v-479ea5a0");e.pushScopeId("data-v-479ea5a0");var p={key:1,class:"context-menu__options"};e.popScopeId();var v=f((function(t,n,o,r,i,a){var c=e.resolveDirective("click-outside");return e.openBlock(),e.createBlock(e.Fragment,null,[e.createVNode("div",e.mergeProps(t.$attrs,{class:"context-menu__content",onClick:n[1]||(n[1]=e.withModifiers((function(e){return t.onClick(e,"click","main")}),["left","prevent","stop"])),onMouseup:n[2]||(n[2]=e.withModifiers((function(e){return t.onClick(e,"click","auxiliar")}),["middle","prevent","stop"])),onContextmenu:n[3]||(n[3]=e.withModifiers((function(e){return t.onClick(e,"click","secondary")}),["right","prevent","stop"])),onDblclick:[n[4]||(n[4]=e.withModifiers((function(e){return t.onClick(e,"dblclick","main")}),["left","prevent","stop"])),n[5]||(n[5]=e.withModifiers((function(e){return t.onClick(e,"dblclick","auxiliar")}),["middle","prevent","stop"])),n[6]||(n[6]=e.withModifiers((function(e){return t.onClick(e,"dblclick","secondary")}),["right","prevent","stop"]))]}),[e.renderSlot(t.$slots,"default")],16),t.visible?e.withDirectives((e.openBlock(),e.createBlock("div",{key:0,class:"context-menu",style:t.location},[t.slotContextMenu?e.renderSlot(t.$slots,t.slotContextMenu,{key:0,item:t.selectedItem,onClick:t.optionClicked}):(e.openBlock(),e.createBlock("ul",p,[(e.openBlock(!0),e.createBlock(e.Fragment,null,e.renderList(t.contextMenu,(function(n,o){var r,i=n.type,a=n.name,c=n.label,l=n.icon,u=n.class,d=n.slot;return e.openBlock(),e.createBlock(e.Fragment,{key:o},[d?e.renderSlot(t.$slots,d,{key:0,onClick:t.optionClicked}):e.createCommentVNode("",!0),"divider"===i?(e.openBlock(),e.createBlock("li",{key:1,class:["context-menu__divider",u]},null,2)):(e.openBlock(),e.createBlock("li",{key:2,class:u,onClick:e.withModifiers((function(e){return t.optionClicked(null!=a?a:"")}),["stop"])},["class"===t.iconFormat?(e.openBlock(),e.createBlock("i",{key:0,class:l},null,2)):(e.openBlock(),e.createBlock("i",{key:1,class:t.iconFormat},e.toDisplayString(l),3)),e.createVNode("span",null,e.toDisplayString(null!==(r=null!=c?c:a)&&void 0!==r?r:""),1)],10,["onClick"]))],64)})),128))]))],4)),[[c,t.onClickOutsideConf]]):e.createCommentVNode("",!0)],64)}));!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}('\n.context-menu[data-v-479ea5a0] {\n  --cm-light-grey: #ecf0f1;\n  /* --cm-grey: darken(var(--cm-light-grey), 15%); */\n  --cm-grey: #c0cdd1;\n  --cm-blue: #007aff;\n  --cm-white: #fff;\n  --cm-black: #333;\n  --cm-black-shadow: rgba(51, 51, 51, 0.2);\n\n  top: 0;\n  left: 0;\n  margin: 0;\n  padding: 0;\n  display: block;\n  position: absolute;\n  z-index: 1000000;\n}\n.context-menu .context-menu__divider[data-v-479ea5a0] {\n  box-sizing: content-box;\n  height: 2px;\n  background-color: var(--cm-grey);\n  padding: 4px 0;\n  background-clip: content-box;\n  pointer-events: none;\n}\n.context-menu .context-menu__options[data-v-479ea5a0] {\n  display: block;\n  list-style: none;\n  border-bottom-width: 0px;\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans",\n    "Helvetica Neue", sans-serif;\n  background-color: var(--cm-light-grey);\n  box-shadow: 0 3px 6px 0 var(--cm-black-shadow);\n  border-radius: 4px;\n}\n.context-menu .context-menu__options > li[data-v-479ea5a0] {\n  display: flex;\n  align-items: center;\n  padding: 5px 15px;\n  color: var(--cm-black);\n  cursor: pointer;\n}\n.context-menu .context-menu__options > li[data-v-479ea5a0]:hover {\n  background-color: var(--cm-blue);\n  color: var(--cm-white);\n}\n.context-menu .context-menu__options li[data-v-479ea5a0]:first-of-type {\n  margin-top: 4px;\n}\n.context-menu .context-menu__options li[data-v-479ea5a0]:last-of-type {\n  margin-bottom: 4px;\n}\n'),s.render=v,s.__scopeId="data-v-479ea5a0";var m=function(){var e=s;return e.install=function(t){t.use(d),t.component("ContextMenu",e)},e}(),y=Object.freeze({__proto__:null,default:m});return Object.entries(y).forEach((function(e){var t=i(e,2),n=t[0],o=t[1];"default"!==n&&(m[n]=o)})),m}(Vue);