var ContextMenu=function(e){"use strict";function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var u,d=(function(e,t){var n,r,o,i,a,c,l,u;e.exports=(n="__v-click-outside",r="undefined"!=typeof window,o="undefined"!=typeof navigator,i=r&&("ontouchstart"in window||o&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"],a=function(e){var t=e.event,n=e.handler;(0,e.middleware)(t)&&n(t)},c=function(e,t){var r=function(e){var t="function"==typeof e;if(!t&&"object"!=typeof e)throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:t?e:e.handler,middleware:e.middleware||function(e){return e},events:e.events||i,isActive:!(!1===e.isActive),detectIframe:!(!1===e.detectIframe),capture:Boolean(e.capture)}}(t.value),o=r.handler,c=r.middleware,l=r.detectIframe,u=r.capture;if(r.isActive){if(e[n]=r.events.map((function(t){return{event:t,srcTarget:document.documentElement,handler:function(t){return function(e){var t=e.el,n=e.event,r=e.handler,o=e.middleware,i=n.path||n.composedPath&&n.composedPath();(i?i.indexOf(t)<0:!t.contains(n.target))&&a({event:n,handler:r,middleware:o})}({el:e,event:t,handler:o,middleware:c})},capture:u}})),l){var d={event:"blur",srcTarget:window,handler:function(t){return function(e){var t=e.el,n=e.event,r=e.handler,o=e.middleware;setTimeout((function(){var e=document.activeElement;e&&"IFRAME"===e.tagName&&!t.contains(e)&&a({event:n,handler:r,middleware:o})}),0)}({el:e,event:t,handler:o,middleware:c})},capture:u};e[n]=[].concat(e[n],[d])}e[n].forEach((function(t){var r=t.event,o=t.srcTarget,i=t.handler;return setTimeout((function(){e[n]&&o.addEventListener(r,i,u)}),0)}))}},l=function(e){(e[n]||[]).forEach((function(e){return e.srcTarget.removeEventListener(e.event,e.handler,e.capture)})),delete e[n]},{install:function(e){e.directive("click-outside",u)},directive:u=r?{beforeMount:c,updated:function(e,t){var n=t.value,r=t.oldValue;JSON.stringify(n)!==JSON.stringify(r)&&(l(e),c(e,{value:n}))},unmounted:l}:{}})}(u={exports:{}},u.exports),u.exports);var f=e.defineComponent({name:"ContextMenu",inheritAttrs:!1,emits:["optionClick"],props:{options:{type:Array,required:!0},active:{type:Boolean,default:!0},iconFormat:{type:String,default:"class"},delimiter:{type:String,default:"context-menu__content"},offsetX:{type:Number,default:0},offsetY:{type:Number,default:0},events:{type:String,default:"secondary",validator:function(e){return/(click|main|aux|sec|left|right)/.test(e)}}},setup:function(t,o){var i=o.emit,c=e.ref(0),l=e.ref(!1),u=function(){return l.value=!1},d=function(e){"Escape"===e.key&&u()};e.onMounted((function(){return document.body.addEventListener("keyup",d)})),e.onBeforeUnmount((function(){return document.body.removeEventListener("keyup",d)}));var f=e.ref([]),s=e.ref(!1),p=e.ref(!1);e.watchEffect((function(){s.value=p.value=!1,f.value=t.events.split(",").filter((function(e){var t,n=/^(click|dblclick|main|auxiliar|secondary|left|right)?$/.test(t=e)||/^ctrl\.(aux|sec)$/.test(t)||/^(ctrl\.)?(main|auxiliar|secondary|left|right)$/.test(t)||/^(click|dblclick)((\.ctrl)?\.(main|auxiliar|secondary|left|right|aux|sec))?$/.test(t);return n&&(/^dblclick/.test(e)?p.value=!0:s.value=!0),n}))}));var v=e.ref(new Map);e.watchEffect((function(){v.value=new Map,t.options.forEach((function(e){var t,o=null!==(t=e.name)&&void 0!==t?t:"no-name-".concat(Math.random().toString().slice(2,5));(Array.isArray(e.on)?e.on:Array(e.on)).forEach((function(t){var i;if(t){var c=void 0;if(/(main|left)/.test(t)?c="main":/(sec|right)/.test(t)?c="secondary":/(aux)/.test(t)&&(c="auxiliar"),c){var l=/^dblclick/.test(t)?"dblclick":"click",u="_";/ctrl\./.test(t)?u="_ctrl_":/alt\./.test(t)?u="_alt_":/shift\./.test(t)?u="_shift_":/meta\./.test(t)&&(u="_meta_");var d="".concat(l).concat(u).concat(c),f=null!==(i=v.value.get(d))&&void 0!==i?i:[];v.value.set(d,[].concat(a(f),[n(n({},"object"===r(e)?e:{}),{},{name:o})]))}}}))}))}));var m=e.ref({x:0,y:0}),y=e.ref([]);return{contextMenu:y,visible:e.computed((function(){return t.active&&l.value})),location:e.computed((function(){return{left:"".concat(m.value.x,"px"),top:"".concat(m.value.y,"px")}})),onClick:function(e,n,r){return function(e,n,r){var o,i;l.value=!1,y.value=[];var a=e,u=void 0;if(a.path&&a.path.some((function(e){var n;if(null!=e&&null!==(n=e.classList)&&void 0!==n&&n.contains(t.delimiter))return!0;u=e.id})),c.value=null!==(o=u)&&void 0!==o?o:"",!((null!==(i=u)&&void 0!==i?i:"").length<1)){var d="_";e.ctrlKey?d="_ctrl_":e.altKey?d="_alt_":e.shiftKey?d="_shift_":e.metaKey&&(d="_meta_");var f="".concat(n).concat(d).concat(r),s=v.value.get(f);s&&(y.value=s,m.value={x:e.pageX-t.offsetX,y:e.pageY-t.offsetY},l.value=t.active,e.stopImmediatePropagation(),e.preventDefault())}}(e,n,r)},optionClicked:function(e){u(),i("optionClick",{action:e,item:c.value})},onClickOutsideConf:e.computed((function(){return{handler:function(){return u()},isActive:l.value}}))}}}),s=e.withScopeId("data-v-616c0e36");e.pushScopeId("data-v-616c0e36");var p={key:0,class:"context-menu__divider"};e.popScopeId();var v=s((function(t,n,r,o,i,a){var c=e.resolveDirective("click-outside");return e.openBlock(),e.createBlock(e.Fragment,null,[e.createVNode("div",e.mergeProps(t.$attrs,{class:"context-menu__content",onClick:n[1]||(n[1]=e.withModifiers((function(e){return t.onClick(e,"click","main")}),["left","prevent","stop"])),onMouseup:n[2]||(n[2]=e.withModifiers((function(e){return t.onClick(e,"click","auxiliar")}),["middle","prevent","stop"])),onContextmenu:n[3]||(n[3]=e.withModifiers((function(e){return t.onClick(e,"click","secondary")}),["right","prevent","stop"])),onDblclick:[n[4]||(n[4]=e.withModifiers((function(e){return t.onClick(e,"dblclick","main")}),["left","prevent","stop"])),n[5]||(n[5]=e.withModifiers((function(e){return t.onClick(e,"dblclick","auxiliar")}),["middle","prevent","stop"])),n[6]||(n[6]=e.withModifiers((function(e){return t.onClick(e,"dblclick","secondary")}),["right","prevent","stop"]))]}),[e.renderSlot(t.$slots,"default")],16),e.withDirectives(e.createVNode("ul",{class:["context-menu",{"context-menu--active":t.visible}],style:t.location},[(e.openBlock(!0),e.createBlock(e.Fragment,null,e.renderList(t.contextMenu,(function(n,r){var o,i=n.type,a=n.name,c=n.label,l=n.icon;return e.openBlock(),e.createBlock(e.Fragment,{key:r},["divider"===i?(e.openBlock(),e.createBlock("li",p)):(e.openBlock(),e.createBlock("li",{key:1,onClick:e.withModifiers((function(e){return t.optionClicked(null!=a?a:"")}),["stop"])},["class"===t.iconFormat?(e.openBlock(),e.createBlock("i",{key:0,class:l},null,2)):(e.openBlock(),e.createBlock("i",{key:1,class:t.iconFormat},e.toDisplayString(l),3)),e.createVNode("span",null,e.toDisplayString(null!==(o=null!=c?c:a)&&void 0!==o?o:""),1)],8,["onClick"]))],64)})),128))],6),[[c,t.onClickOutsideConf]])],64)}));!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}('\n.context-menu[data-v-616c0e36] {\n  --cm-light-grey: #ecf0f1;\n  /* --cm-grey: darken(var(--cm-light-grey), 15%); */\n  --cm-grey: #c0cdd1;\n  --cm-blue: #007aff;\n  --cm-white: #fff;\n  --cm-black: #333;\n  --cm-black-shadow: rgba(51, 51, 51, 0.2);\n\n  top: 0;\n  left: 0;\n  margin: 0;\n  padding: 0;\n  display: none;\n  list-style: none;\n  position: absolute;\n  z-index: 1000000;\n  background-color: var(--cm-light-grey);\n  border-bottom-width: 0px;\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans",\n    "Helvetica Neue", sans-serif;\n  box-shadow: 0 3px 6px 0 var(--cm-black-shadow);\n  border-radius: 4px;\n}\n.context-menu.context-menu--active[data-v-616c0e36] {\n  display: block;\n}\n.context-menu > li[data-v-616c0e36] {\n  display: flex;\n  align-items: center;\n  padding: 5px 15px;\n  color: var(--cm-black);\n  cursor: pointer;\n}\n.context-menu > li[data-v-616c0e36]:hover {\n  background-color: var(--cm-blue);\n  color: var(--cm-white);\n}\n.context-menu .context-menu__divider[data-v-616c0e36] {\n  box-sizing: content-box;\n  height: 2px;\n  background-color: var(--cm-grey);\n  padding: 4px 0;\n  background-clip: content-box;\n  pointer-events: none;\n}\n.context-menu li[data-v-616c0e36]:first-of-type {\n  margin-top: 4px;\n}\n.context-menu li[data-v-616c0e36]:last-of-type {\n  margin-bottom: 4px;\n}\n'),f.render=v,f.__scopeId="data-v-616c0e36";var m=function(){var e=f;return e.install=function(t){t.use(d),t.component("ContextMenu",e)},e}(),y=Object.freeze({__proto__:null,default:m});return Object.entries(y).forEach((function(e){var t=i(e,2),n=t[0],r=t[1];"default"!==n&&(m[n]=r)})),m}(Vue);